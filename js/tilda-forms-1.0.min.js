!function($){$(document).ready(function(){$(".js-tilda-mask").each(function(){var e=$(this).data("tilda-mask"),r=$(this).data("tilda-mask-holder");e&&(r>""?$(this).mask(e,{placeholder:r}):$(this).mask(e))}),$(".js-tilda-rule").focus(function(){var e=$(this).attr("placeholder");e>""&&($(this).data("placeholder",e),$(this).attr("placeholder",""))}),$(".js-tilda-rule").blur(function(){var e=$(this).data("placeholder");e>""&&($(this).attr("placeholder",e),$(this).data("placeholder",""))}),window.validateForm=function(e){var r=[],t=!0;return e.find(".js-tilda-rule").each(function(){var e,a=$(this).data("tilda-req")||0,o=$(this).data("tilda-rule")||"none",i={},n=$(this).val(),s="";if(i.obj=$(this),i.type=[],n&&n.length>0&&(s=n.replace(/\s/g,""),n=n.trim()),n.length>0&&(t=!1),1==a&&0==n.length&&0==s.length)i.type.push("req");else switch(o){case"email":e=/^[a-zA-Zёа-яЁА-Я0-9_\.\-\+]{1,64}@[a-zA-Zёа-яЁА-Я0-9][a-zA-Zёа-яЁА-Я0-9\.\-]{0,253}\.[a-zA-Zёа-яЁА-Я]{2,10}$/,n.length>0&&!n.match(e)&&i.type.push("email");break;case"url":e=/^((https?|ftp):\/\/)?[a-zA-Zёа-яЁА-Я0-9][a-zA-Zёа-яЁА-Я0-9\.\-]{0,253}\.[a-zA-Zёа-яЁА-Я]{2,10}\/?$/,n.length>0&&!n.match(e)&&i.type.push("url");break;case"phone":e=/^[0-9\(\)\-\+]+$/gi,s.length>0&&!s.match(e)&&i.type.push("phone");break;case"name":var e=/^([A-Za-zА-Яа-яЁё\s]{1,}((\-)?[A-Za-zА-Яа-яЁё\.\s](\')?){0,})*$/i;n.length>0&&!n.match(e)&&i.type.push("name");break;case"nameeng":var e=/^([A-Za-z\s]{1,}((\-)?[A-Za-z\.\s](\')?){0,})*$/i;n.length>0&&!n.match(e)&&i.type.push("nameeng");break;case"namerus":var e=/^([А-Яа-яЁё\s]{1,}((\-)?[А-Яа-яЁё\.\s](\')?){0,})*$/i;n.length>0&&!n.match(e)&&i.type.push("namerus");break;case"string":var e=/^[A-Za-zА-Яа-яЁё0-9,\.:;\"\'\`\-\_\+\?\!\%\$\@\*\&\^\s]$/i;n.length>0&&!n.match(e)&&i.type.push("string")}i.type&&i.type.length>0&&(r[r.length]=i)}),t&&0==r.length&&(r=[{obj:"none",type:["emptyfill"]}]),r};var $jallforms=$(".r").find(".js-form-proccess[data-formactiontype]");$jallforms.length>0&&$jallforms.each(function(){2==$(this).data("formactiontype")&&$(this).append('<div style="position: absolute; left: -5000px;"><input type="text" name="form-spec-comments" value="Its good" class="js-form-spec-comments"  tabindex="-1" /></div>')}),$(".r").off("submit",".js-form-proccess"),$(".r").on("submit",".js-form-proccess",function(){var e=$(this).find("[type=submit]"),r=e.data("form-sending-status");return r&&3==r?(e.data("form-sending-status"),!0):($(this).find("[type=submit]").trigger("click"),!1)}),$(".r").off("click",".js-form-proccess [type=submit]"),$(".r").on("click",".js-form-proccess [type=submit]",function(event){event.preventDefault();var btnformsubmit=$(this),btnstatus=btnformsubmit.data("form-sending-status");if(btnstatus>="1")return!1;var $activeForm=$(this).closest("form");if(0==$activeForm.length)return!1;btnformsubmit.addClass("t-btn_sending"),btnformsubmit.data("form-sending-status","1"),btnformsubmit.data("submitform",$activeForm),$activeForm.find(".js-errorbox-all").hide(),$activeForm.find(".js-rule-error").hide(),$activeForm.find(".js-error-rule-all").html(""),$activeForm.find(".js-successbox").hide(),$activeForm.find(".js-error-control-box").removeClass("js-error-control-box"),$activeForm.removeClass("js-send-form-error"),$activeForm.removeClass("js-send-form-success");var arError=validateForm($activeForm),$blockinput="";if(arError&&arError.length>0){var clsInputBoxSelector=$activeForm.data("inputbox");clsInputBoxSelector||(clsInputBoxSelector=".blockinput");for(var i=0;i<arError.length;i++)if(arError[i]&&arError[i].obj){if(0==i&&"none"==arError[i].obj){var $errItem=$activeForm.find(".js-rule-error-all");$errItem.html("Please fill the form"),$errItem.css("display","block").show();break}for(arError[i].obj.closest(clsInputBoxSelector).addClass("js-error-control-box"),j=0;j<arError[i].type.length;j++){error=arError[i].type[j];var $errItem=$activeForm.find(".js-rule-error-"+error);$errItem.length>0&&$errItem.css("display","block").show()}}return arError.length>0&&$activeForm.find(".js-errorbox-all").css("display","block").show(),btnformsubmit.removeClass("t-btn_sending"),btnformsubmit.data("form-sending-status","0"),btnformsubmit.data("submitform",""),!1}var formtype=$activeForm.data("formactiontype"),formskey=$("#allrecords").data("tilda-formskey");if(0==$activeForm.find(".js-formaction-services").length&&1!=formtype&&""==formskey){var $errBox=$activeForm.find(".js-errorbox-all");$errBox&&0!=$errBox.length||($activeForm.prepend('<div class="js-errorbox-all"></div>'),$errBox=$activeForm.find(".js-errorbox-all"));var $allError=$errBox.find(".js-rule-error-all");return $allError&&0!=$allError.length||($errBox.append('<p class="js-rule-error-all">'+json.error+"</p>"),$allError=$errBox.find(".js-rule-error-all")),$allError.html("Please set reciever in block with forms").show(),$errBox.show(),$activeForm.addClass("js-send-form-error"),btnformsubmit.removeClass("t-btn_sending"),btnformsubmit.data("form-sending-status","0"),btnformsubmit.data("submitform",""),!1}if(2==formtype||0==formtype&&formskey>""){var $elemCookie=$activeForm.find("input[name=tildaspec-cookie]");return $elemCookie&&0!=$elemCookie.length||($activeForm.append('<input type="hidden" name="tildaspec-cookie" value="">'),$elemCookie=$activeForm.find("input[name=tildaspec-cookie]")),$elemCookie.length>0&&$elemCookie.val(document.cookie),$elemCookie=$activeForm.find("input[name=tildaspec-referer]"),$elemCookie&&0!=$elemCookie.length||($activeForm.append('<input type="hidden" name="tildaspec-referer" value="">'),$elemCookie=$activeForm.find("input[name=tildaspec-referer]")),$elemCookie.length>0&&$elemCookie.val(window.location.href),$elemCookie=$activeForm.find("input[name=tildaspec-formid]"),$elemCookie&&0!=$elemCookie.length||($activeForm.append('<input type="hidden" name="tildaspec-formid" value="">'),$elemCookie=$activeForm.find("input[name=tildaspec-formid]")),$elemCookie.length>0&&$elemCookie.val($activeForm.attr("id")),formskey>""&&($elemCookie=$activeForm.find("input[name=tildaspec-formskey]"),$elemCookie&&0!=$elemCookie.length||($activeForm.append('<input type="hidden" name="tildaspec-formskey" value="">'),$elemCookie=$activeForm.find("input[name=tildaspec-formskey]")),$elemCookie.length>0&&$elemCookie.val(formskey)),$elemCookie=$activeForm.find("input[name=tildaspec-pageid]"),$elemCookie&&0!=$elemCookie.length||($activeForm.append('<input type="hidden" name="tildaspec-pageid" value="">'),$elemCookie=$activeForm.find("input[name=tildaspec-pageid]")),$elemCookie.length>0&&$elemCookie.val($("#allrecords").data("tilda-page-id")),$elemCookie=$activeForm.find("input[name=tildaspec-projectid]"),$elemCookie&&0!=$elemCookie.length||($activeForm.append('<input type="hidden" name="tildaspec-projectid" value="">'),$elemCookie=$activeForm.find("input[name=tildaspec-projectid]")),$elemCookie.length>0&&$elemCookie.val($("#allrecords").data("tilda-project-id")),$activeForm.find(".js-form-spec-comments").val(""),$.ajax({type:"POST",url:"https://forms.tildacdn.com/procces/",data:$activeForm.serialize(),dataType:"json",success:function(json){var successurl=$activeForm.data("success-url"),successcallback=$activeForm.data("success-callback");if(btnformsubmit.removeClass("t-btn_sending"),btnformsubmit.data("form-sending-status","0"),btnformsubmit.data("submitform",""),json&&json.error){successurl="",successcallback="";var $errBox=$activeForm.find(".js-errorbox-all");$errBox&&0!=$errBox.length||($activeForm.prepend('<div class="js-errorbox-all"></div>'),$errBox=$activeForm.find(".js-errorbox-all"));var $allError=$errBox.find(".js-rule-error-all");$allError&&0!=$allError.length||($errBox.append('<p class="js-rule-error-all">'+json.error+"</p>"),$allError=$errBox.find(".js-rule-error-all")),$allError.html(json.error).show(),$errBox.show(),$activeForm.addClass("js-send-form-error")}else{$activeForm.find(".js-successbox").show(),$activeForm.addClass("js-send-form-success");var virtPage="/tilda/"+$activeForm.attr("id")+"/submitted/",virtTitle="Send data from form "+$activeForm.attr("id");window.Tilda&&"function"==typeof Tilda.sendEventToStatistics?(Tilda.sendEventToStatistics(virtPage,virtTitle,"",0),window.dataLayer&&window.dataLayer.push({event:"submit_"+$activeForm.attr("id")})):("undefined"!=typeof ga&&ga&&"tilda"!=window.mainTracker&&ga("send",{hitType:"pageview",page:virtPage,title:virtTitle}),window.mainMetrika>""&&window[window.mainMetrika]&&window[window.mainMetrika].hit(virtPage,{title:virtTitle,referer:window.location.href}),window.dataLayer&&window.dataLayer.push({event:"submit_"+$activeForm.attr("id")}));var formres={};if(json&&json.results&&json.results[0]){var str=json.results[0];str=str.split(":"),formres.tranid=""+str[0]+":"+str[1],formres.orderid=str[2]?str[2]:"0"}else formres.tranid="0",formres.orderid="0";$activeForm.data("tildaformresult",formres),successcallback&&successcallback.length>0?eval(successcallback+"($activeForm)"):successurl&&successurl.length>0&&setTimeout(function(){window.location.href=successurl},500),$activeForm.find("input[type=text]:visible").val(""),$activeForm.find("textarea:visible").html(""),$activeForm.find("textarea:visible").val(""),$activeForm.data("tildaformresult",{tranid:"0",orderid:"0"})}},error:function(e){btnformsubmit.removeClass("t-btn_sending"),btnformsubmit.data("form-sending-status","0"),btnformsubmit.data("submitform","");var r=$activeForm.find(".js-errorbox-all");r&&0!=r.length||($activeForm.prepend('<div class="js-errorbox-all"></div>'),r=$activeForm.find(".js-errorbox-all"));var t=r.find(".js-rule-error-all");t&&0!=t.length||(r.append('<p class="js-rule-error-all">Unknown error. Later, plaese try again.</p>'),t=r.find(".js-rule-error-all")),t.show(),r.show(),$activeForm.addClass("js-send-form-error")},timeout:15e3}),!1}return"y"==$activeForm.data("is-formajax")?($.ajax({type:"POST",url:$activeForm.attr("action"),data:$activeForm.serialize(),dataType:"text",success:function(e){var r,t=$activeForm.data("success-url");if(btnformsubmit.removeClass("t-btn_sending"),btnformsubmit.data("form-sending-status","0"),e&&e.length>0)if("{"==e.substring(0,1)){if(r=window.JSON&&window.JSON.parse?window.JSON.parse(e):$.parseJSON(e),r&&r.message)"OK"!=r.message&&$activeForm.find(".js-successbox").html(r.message);else if(r&&r.error){var a=$activeForm.find(".js-errorbox-all");a&&0!=a.length||($activeForm.prepend('<div class="js-errorbox-all"></div>'),a=$activeForm.find(".js-errorbox-all"));var o=a.find(".js-rule-error-all");return o&&0!=o.length||(a.append('<p class="js-rule-error-all">Unknown error. Please, try again later.</p>'),o=a.find(".js-rule-error-all")),o.html(r.error),o.show(),a.show(),$activeForm.addClass("js-send-form-error"),!1}}else $activeForm.find(".js-successbox").html(e);$activeForm.find(".js-successbox").show(),$activeForm.find("input[type=text]:visible").val(""),$activeForm.find("textarea:visible").html(""),$activeForm.find("textarea:visible").val(""),$activeForm.addClass("js-send-form-success");var i="/tilda/"+$activeForm.attr("id")+"/submitted/",n="Send data from form "+$activeForm.attr("id");window.Tilda&&"function"==typeof Tilda.sendEventToStatistics?Tilda.sendEventToStatistics(i,n,"",0):("undefined"!=typeof ga&&"tilda"!=window.mainTracker&&ga("send",{hitType:"pageview",page:i,title:n}),window.mainMetrika>""&&window[window.mainMetrika]&&window[window.mainMetrika].hit(i,{title:n,referer:window.location.href})),t&&t.length>0&&(window.location.href=t)},error:function(e){btnformsubmit.removeClass("t-btn_sending"),btnformsubmit.data("form-sending-status","0");var r=$activeForm.find(".js-errorbox-all");r&&0!=r.length||($activeForm.prepend('<div class="js-errorbox-all"></div>'),r=$activeForm.find(".js-errorbox-all"));var t=r.find(".js-rule-error-all");t&&0!=t.length||(r.append('<p class="js-rule-error-all"></p>'),t=r.find(".js-rule-error-all")),e&&e.responseText>""?t.html(e.responseText+". Please, try again later."):e&&e.statusText?t.html("Error ["+e.statusText+"]. Please, try again later."):t.html("Unknown error. Please, try again later."),t.show(),r.show(),$activeForm.addClass("js-send-form-error")},timeout:15e3}),event.preventDefault(),!1):(btnformsubmit.data("form-sending-status","3"),$activeForm.submit(),!0)})})}(jQuery),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var r,t=navigator.userAgent,a=/iphone/i.test(t),o=/chrome/i.test(t),i=/android/i.test(t);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,r){var t;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(r="number"==typeof r?r:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,r):this.createTextRange&&(t=this.createTextRange(),t.collapse(!0),t.moveEnd("character",r),t.moveStart("character",e),t.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,r=this[0].selectionEnd):document.selection&&document.selection.createRange&&(t=document.selection.createRange(),e=0-t.duplicate().moveStart("character",-1e5),r=e+t.text.length),{begin:e,end:r})},unmask:function(){return this.trigger("unmask")},mask:function(t,n){var s,l,m,c,d,f,u,p;if(!t&&this.length>0){s=e(this[0]);var v=s.data(e.mask.dataName);return v?v():void 0}return n=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},n),l=e.mask.definitions,m=[],c=u=t.length,d=null,e.each(t.split(""),function(e,r){"?"==r?(u--,c=e):l[r]?(m.push(new RegExp(l[r])),null===d&&(d=m.length-1),c>e&&(f=m.length-1)):m.push(null)}),this.trigger("unmask").each(function(){function s(){if(n.completed){for(var e=d;f>=e;e++)if(m[e]&&E[e]===v(e))return;n.completed.call(T)}}function v(e){return n.placeholder.charAt(e<n.placeholder.length?e:0)}function h(e){for(;++e<u&&!m[e];);return e}function $(e){for(;--e>=0&&!m[e];);return e}function b(e,r){var t,a;if(!(0>e)){for(t=e,a=h(r);u>t;t++)if(m[t]){if(!(u>a&&m[t].test(E[a])))break;E[t]=E[a],E[a]=v(a),a=h(a)}x(),T.caret(Math.max(d,e))}}function g(e){var r,t,a,o;for(r=e,t=v(e);u>r;r++)if(m[r]){if(a=h(r),o=E[r],E[r]=t,!(u>a&&m[a].test(o)))break;t=o}}function k(){var e=T.val(),r=T.caret();if(p&&p.length&&p.length>e.length){for(C(!0);r.begin>0&&!m[r.begin-1];)r.begin--;if(0===r.begin)for(;r.begin<d&&!m[r.begin];)r.begin++;T.caret(r.begin,r.begin)}else{for(C(!0);r.begin<u&&!m[r.begin];)r.begin++;T.caret(r.begin,r.begin)}s()}function j(){C(),T.val()!=B&&T.change()}function y(e){if(!T.prop("readonly")){var r,t,o,i=e.which||e.keyCode;p=T.val(),8===i||46===i||a&&127===i?(r=T.caret(),t=r.begin,o=r.end,o-t===0&&(t=46!==i?$(t):o=h(t-1),o=46===i?h(o):o),w(t,o),b(t,o-1),e.preventDefault()):13===i?j.call(this,e):27===i&&(T.val(B),T.caret(0,C()),e.preventDefault())}}function F(r){if(!T.prop("readonly")){var t,a,o,n=r.which||r.keyCode,l=T.caret();if(!(r.ctrlKey||r.altKey||r.metaKey||32>n)&&n&&13!==n){if(l.end-l.begin!==0&&(w(l.begin,l.end),b(l.begin,l.end-1)),t=h(l.begin-1),u>t&&(a=String.fromCharCode(n),m[t].test(a))){if(g(t),E[t]=a,x(),o=h(t),i){var c=function(){e.proxy(e.fn.caret,T,o)()};setTimeout(c,0)}else T.caret(o);l.begin<=f&&s()}r.preventDefault()}}}function w(e,r){var t;for(t=e;r>t&&u>t;t++)m[t]&&(E[t]=v(t))}function x(){T.val(E.join(""))}function C(e){var r,t,a,o=T.val(),i=-1;for(r=0,a=0;u>r;r++)if(m[r]){for(E[r]=v(r);a++<o.length;)if(t=o.charAt(a-1),m[r].test(t)){E[r]=t,i=r;break}if(a>o.length){w(r+1,u);break}}else E[r]===o.charAt(a)&&a++,c>r&&(i=r);return e?x():c>i+1?n.autoclear||E.join("")===S?(T.val()&&T.val(""),w(0,u)):x():(x(),T.val(T.val().substring(0,i+1))),c?r:d}var T=e(this),E=e.map(t.split(""),function(e,r){return"?"!=e?l[e]?v(r):e:void 0}),S=E.join(""),B=T.val();T.data(e.mask.dataName,function(){return e.map(E,function(e,r){return m[r]&&e!=v(r)?e:null}).join("")}),T.one("unmask",function(){T.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!T.prop("readonly")){clearTimeout(r);var e;B=T.val(),e=C(),r=setTimeout(function(){T.get(0)===document.activeElement&&(x(),e==t.replace("?","").length?T.caret(0,e):T.caret(e))},10)}}).on("blur.mask",j).on("keydown.mask",y).on("keypress.mask",F).on("input.mask paste.mask",function(){T.prop("readonly")||setTimeout(function(){var e=C(!0);T.caret(e),s()},0)}),o&&i&&T.off("input.mask").on("input.mask",k),C()})}})});